<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naeem Khan Traders - Login</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="login-page">
    <div class="login-container">
        <div class="logo-header">
            <i class="fas fa-hand-holding-usd"></i>
            <h1>Naeem Khan Traders</h1>
            <p>Installment Management System</p>
        </div>
        
        <div class="login-card">
            <h2><i class="fas fa-lock"></i> Secure Access</h2>
            <p class="login-instruction">Enter PIN for Admin access, or leave blank for Staff.</p>
            
            <div class="input-group">
                <label for="pin"><i class="fas fa-key"></i> PIN Code</label>
                <input type="password" id="pin" placeholder="Enter 6-digit PIN" maxlength="6">
                <div class="pin-hint">Admin PIN: <strong>134047</strong></div>
            </div>
            
            <button id="loginBtn" class="btn-primary">
                <i class="fas fa-sign-in-alt"></i> Access Dashboard
            </button>
            
            <div class="login-footer">
                <p><i class="fas fa-shield-alt"></i> Your data is securely managed with Firebase</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginBtn = document.getElementById('loginBtn');
            const pinInput = document.getElementById('pin');
            
            loginBtn.addEventListener('click', function() {
                const enteredPin = pinInput.value.trim();
                
                // Check for Admin PIN
                if (enteredPin === '134047') {
                    localStorage.setItem('userRole', 'admin');
                    localStorage.setItem('isLoggedIn', 'true');
                    alert('Admin access granted! Redirecting to dashboard.');
                } else {
                    // Staff access (no PIN or wrong PIN)
                    localStorage.setItem('userRole', 'staff');
                    localStorage.setItem('isLoggedIn', 'true');
                    if (enteredPin) {
                        alert('Incorrect PIN. Granting Staff access.');
                    }
                }
                
                // Redirect to dashboard
                window.location.href = 'dashboard.html';
            });
            
            // Allow login with Enter key
            pinInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    loginBtn.click();
                }
            });
        });
    </script>
</body>
</html>
